{"EDITOR_STATE":{"allProjectFiles":{"fe15efdc-d6fc-4baf-b463-37e6a850ed9d":{"id":"fe15efdc-d6fc-4baf-b463-37e6a850ed9d","parent":null,"name":"HotSpaces","type":"DIRECTORY","isDirectory":true,"children":["7c42f003-78a4-40d9-b16c-a38a1eb9b4db","188ef6fc-1c63-494e-a5cf-5205b96dd98b","5206f6b4-695c-43fa-93db-503a51d0abdf","e89da7b6-c7dc-44da-9d85-bbee7122e71f","02edd4d6-9248-43ac-98ad-af187c729359","ddad056a-5aae-4460-b6cd-3bdb37bb1b2c","e7a375cc-9110-47c3-9920-037d9d9d00bf","a8d43eec-929d-401e-8f46-be7a1ddfbbdc","e4543662-f84c-4b36-b19b-4443639a3a54","b1e1c6a6-7872-4843-a5d5-214120c37972"],"isRemovable":false,"filePath":"HotSpaces"},"7c42f003-78a4-40d9-b16c-a38a1eb9b4db":{"id":"7c42f003-78a4-40d9-b16c-a38a1eb9b4db","parent":"fe15efdc-d6fc-4baf-b463-37e6a850ed9d","name":"create_user_lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"HotSpaces/create_user_lambda.js","code":"let AWS = require('aws-sdk');\nconst ddb = new AWS.DynamoDB.DocumentClient();\nexports.handler = function (event, context, callback) {\n var currentTimestamp = new Date();\n\tddb.put({\n\t\tTableName: 'hs_user',\n\t\tItem: {\n\t\t\t'username': JSON.parse(event.body).username,\n\t\t\t'email': JSON.parse(event.body).email,\n\t\t\t'first_name': JSON.parse(event.body).first_name,\n\t\t\t'last_name': JSON.parse(event.body).last_name,\n\t\t\t'age': JSON.parse(event.body).age,\n\t\t\t'gender': JSON.parse(event.body).gender,\n\t\t\t'interested_in': JSON.parse(event.body).interested_in,\n\t\t\t'password': JSON.parse(event.body).password,\n\t\t\t'user_avatar': JSON.parse(event.body).user_avatar,\n\t\t\t'contact_number': JSON.parse(event.body).contact_number\n\t\t}\n\t}, function (err, data) {\n\t\tif (err) {\n\t\t\tcallback(err, null);\n\t\t} else {\n\n\t\t\tddb.put({\n\t\t\t\tTableName: 'hs_sort_table',\n\t\t\t\tItem: { \n\t\t\t\t'gender': JSON.parse(event.body).gender, \n\t\t\t\t'username': JSON.parse(event.body).username, \n\t\t\t\t'last_known_lat': JSON.parse(event.body).last_known_lat, \n\t\t\t\t'last_updated_timestamp':  currentTimestamp.toLocaleString(), \n\t\t\t\t'last_known_long': JSON.parse(event.body).last_known_long\n\t\t\t\t }\n\t\t\t}, function (err, data) {\n\t\t\t\tif (err) {\n\t\t\t\t\tcallback(err, null);\n\t\t\t\t} else {\n\t\t\t\t\tlet response = {\n\t\t\t\t\t\t\"statusCode\": 200,\n\t\t\t\t\t\t\"headers\": {\n\t\t\t\t\t\t\t\"my_header\": \"my_value\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"body\": JSON.stringify(data),\n\t\t\t\t\t\t\"isBase64Encoded\": false\n\t\t\t\t\t};\n\t\t\t\t\tcallback(null, response);\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t});\n\n}","resources":["apigusEast1HotSpacescreateUserpost","ddbhsuser","ddbhssorttable","ddbhssorttable","ddbhssorttable","ddbhssorttable","ddbhssorttable","ddbhssorttable"],"triggers":[{"resourceName":"apigusEast1HotSpacescreateUserpost","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/sign-in":"fhrmi1","/":"vv5iju4dle"},"resourceMode":0,"resourceName":"create-user","resourcePath":"/create-user","restMethod":"POST","proxyIntegration":true,"stageMode":0,"stageName":"prod"}}],"version":1},"188ef6fc-1c63-494e-a5cf-5205b96dd98b":{"id":"188ef6fc-1c63-494e-a5cf-5205b96dd98b","parent":"fe15efdc-d6fc-4baf-b463-37e6a850ed9d","name":"get_user_data_lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"HotSpaces/get_user_data_lambda.js","code":"let AWS = require('aws-sdk');\nconst ddb = new AWS.DynamoDB.DocumentClient();\n\nexports.handler = function (event, context, callback) {\n\n\tddb.get({\n\t\tTableName: 'hs_user',\n\t\tKey: { 'username': event.queryStringParameters.username }\n\t}, function (err, data) {\n\t\tif (err) {\n\t\t\tcallback(err, null);\n\t\t} else {\n\t\t\tlet response = {\n\t\t\t\t\"statusCode\": 200,\n\t\t\t\t\"headers\": {\n\t\t\t\t\t\"my_header\": \"my_value\"\n\t\t\t\t},\n\t\t\t\t\"body\": JSON.stringify(data),\n\t\t\t\t\"isBase64Encoded\": false\n\t\t\t};\n\t\t\tcallback(null, response);\n\t\t}\n\t});\n}","resources":["apigusEast1HotSpacesgetUserDataget","ddbhsuser","ddbhsuser"],"triggers":[{"resourceName":"apigusEast1HotSpacesgetUserDataget","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/sign-in":"fhrmi1","/":"vv5iju4dle"},"resourceMode":0,"resourceName":"get-user-data","resourcePath":"/get-user-data","restMethod":"GET","proxyIntegration":true,"stageMode":0,"stageName":"prod"}}],"version":1},"5206f6b4-695c-43fa-93db-503a51d0abdf":{"id":"5206f6b4-695c-43fa-93db-503a51d0abdf","parent":"fe15efdc-d6fc-4baf-b463-37e6a850ed9d","name":"get_profile_pic_lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"HotSpaces/get_profile_pic_lambda.js","code":"let AWS = require('aws-sdk');\nconst s3 = new AWS.S3();\nexports.handler = function (event, context, callback) {\n\ts3.getObject({\n\t\t'Bucket': \"find-my-mate-hasangi\",\n\t\t'Key': event.queryStringParameters.key\n\t}).promise()\n\t\t.then(data => {\n\t\t\tconsole.log(data);           // successful response\n\t\t\t let response = {\n        \"statusCode\": 200,\n        \"headers\": {\n            \"my_header\": \"my_value\"\n        },\n        \"body\": JSON.stringify(data),\n        \"isBase64Encoded\": false\n    };\n           callback(null, response);\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err, err.stack); // an error occurred\n\t\t\t callback(err, null);\n\t\t});\n\n}","resources":["apigusEast1HotSpacesgetUserProfileget","s3findMyMateHasangi"],"triggers":[{"resourceName":"apigusEast1HotSpacesgetUserProfileget","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/create-user":"eyycvt","/sign-in":"fhrmi1","/":"vv5iju4dle","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"get-user-profile","resourcePath":"/get-user-profile","restMethod":"GET","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"1vitxs"}}],"version":1},"e89da7b6-c7dc-44da-9d85-bbee7122e71f":{"id":"e89da7b6-c7dc-44da-9d85-bbee7122e71f","parent":"fe15efdc-d6fc-4baf-b463-37e6a850ed9d","name":"upload_profile_pic_lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"HotSpaces/upload_profile_pic_lambda.js","code":"let AWS = require('aws-sdk');\nconst s3 = new AWS.S3();\nexports.handler = function (event, context, callback) {\n \tlet encodedImage =JSON.parse(event.body).user_avatar;\n     let decodedImage = Buffer.from(encodedImage, 'base64');\n\t  var filePath = \"hotspaces-avatars/\" + event.queryStringParameters.username + \".jpg\";\n\n\ts3.putObject({\n\t\t\"Body\":  decodedImage,\n\t\t\"Bucket\": \"find-my-mate-hasangi\",\n\t\t\"Key\": filePath \n\t})\n\t\t.promise()\n\t\t.then(data => {\n\t\t\tconsole.log(data);           // successful response\n\t\tlet response = {\n        \"statusCode\": 200,\n        \"headers\": {\n            \"my_header\": \"my_value\"\n        },\n        \"body\": JSON.stringify(filePath),\n        \"isBase64Encoded\": false\n    };\n           callback(null, response);\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err, err.stack); // an error occurred\n\t\t\tcallback(err, null);\n\t\t});\n\n}","resources":["apigusEast1HotSpacesuploadUserProfilepost","s3findMyMateHasangi"],"triggers":[{"resourceName":"apigusEast1HotSpacesuploadUserProfilepost","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/create-user":"eyycvt","/sign-in":"fhrmi1","/":"vv5iju4dle","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"upload-user-profile","resourcePath":"/upload-user-profile","restMethod":"POST","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"1vitxs"}}],"version":1},"02edd4d6-9248-43ac-98ad-af187c729359":{"id":"02edd4d6-9248-43ac-98ad-af187c729359","parent":"fe15efdc-d6fc-4baf-b463-37e6a850ed9d","name":"update_device_token.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"HotSpaces/update_device_token.js","code":"let AWS = require('aws-sdk');\nconst ddb = new AWS.DynamoDB.DocumentClient();\nexports.handler = function (event, context, callback) {\n\tconsole.log(event);\n\tconsole.log(event.body);\n\tconsole.log(JSON.parse(event.body).username);\n\tvar username = JSON.parse(event.body).username\n\tvar token = JSON.parse(event.body).token\n\tddb.put({\n\t\tTableName: 'hs_device_tokens',\n\t\tItem: {\n\t\t\t'username': username,\n\t\t\t'device_token': token\n\t\t}\n\t}, function (err, data) {\n\t\tif (err) {\n\t\t\tcallback(err, null);\n\t\t} else {\n\t\t\tlet response = {\n\t\t\t\t\"statusCode\": 200,\n\t\t\t\t\"headers\": {\n\t\t\t\t\t\"my_header\": \"my_value\"\n\t\t\t\t},\n\t\t\t\t\"body\": JSON.stringify(data),\n\t\t\t\t\"isBase64Encoded\": false\n\t\t\t};\n\t\t\tcallback(null, response);\n\t\t}\n\t});\n\n}","resources":["apigusEast1HotSpacesupdateTokenpost","ddbhsdevicetokens","ddbhsdevicetokens","ddbdevicetoken","ddbdevicetoken","ddbhsdevicetokens","ddbhsdevicetokens","ddbhsdevicetokens"],"triggers":[{"resourceName":"apigusEast1HotSpacesupdateTokenpost","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/get-user-profile":"a3kcl7","/create-user":"eyycvt","/sign-in":"fhrmi1","/":"vv5iju4dle","/upload-user-profile":"x5pz19","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"update-token","resourcePath":"/update-token","restMethod":"POST","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"jzhp8y"}}],"version":66},"ddad056a-5aae-4460-b6cd-3bdb37bb1b2c":{"id":"ddad056a-5aae-4460-b6cd-3bdb37bb1b2c","parent":"fe15efdc-d6fc-4baf-b463-37e6a850ed9d","name":"send_reveal_request_lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"HotSpaces/send_reveal_request_lambda.js","code":"let AWS = require('aws-sdk');\nconst sns = new AWS.SNS();\nconst ddb = new AWS.DynamoDB.DocumentClient();\nexports.handler = function (event, context, callback) {\n\n\tlet eventText = event.queryStringParameters.match_username;\n\tlet my_username = event.queryStringParameters.my_username;\n\tlet applicationArn = \"arn:aws:sns:us-east-1:480964559519:app/GCM/hotspaces\";\n\tvar endPointData = null;\n\tvar token = null;\n\tvar gender = null;\n\n\tddb.get({\n\t\tTableName: 'hs_user',\n\t\tKey: {\n\t\t\t'username': eventText\n\t\t}\n\t}, function (err, data) {\n\t\tif (err) {\n\t\t\tcallback(err, null);\n\t\t} else {\n\n\t\t\tconsole.log(data.Item.gender)\n\t\t\tgender = data.Item.gender;\n\t\t\tlet jsonObj = {\n\t\t\t\t\"username\": my_username,\n\t\t\t\t\"gender\": gender,\n\t\t\t\t\"subject\": \"Reveal Request\"\n\t\t\t}\n\t\t\tddb.query({\n\t\t\t\tTableName: 'hs_device_tokens',\n\t\t\t\tExpressionAttributeValues: {\n\t\t\t\t\t':username': event.queryStringParameters.match_username\n\t\t\t\t},\n\t\t\t\tKeyConditionExpression: 'username = :username',\n\t\t\t\tFilterExpression: 'undefined'\n\t\t\t}, function (err, data) {\n\t\t\t\tif (err) {\n\t\t\t\t\tcallback(err, null);\n\t\t\t\t} else {\n\n\t\t\t\t\tdata.Items.forEach(function (item) {\n\t\t\t\t\t\tsns.createPlatformEndpoint({\n\t\t\t\t\t\t\tPlatformApplicationArn: 'arn:aws:sns:us-east-1:480964559519:app/GCM/hotspaces',\n\t\t\t\t\t\t\tToken: item.device_token\n\t\t\t\t\t\t}).promise()\n\t\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\t\tcallback(err, null);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\tconsole.log(data.EndpointArn);\n\t\t\t\t\t\t\t\tendPointData = data.EndpointArn;\n\n\t\t\t\t\t\t\t\tsns.publish({\n\t\t\t\t\t\t\t\t\tMessage: JSON.stringify(jsonObj),\n\t\t\t\t\t\t\t\t\tSubject: 'Reveal Request',\n\t\t\t\t\t\t\t\t\tTargetArn: endPointData\n\t\t\t\t\t\t\t\t}).promise()\n\t\t\t\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\t\t\t\tcallback(err, null);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\t\t\tlet response = {\n\t\t\t\t\t\t\t\t\t\t\t\"statusCode\": 200,\n\t\t\t\t\t\t\t\t\t\t\t\"headers\": {\n\t\t\t\t\t\t\t\t\t\t\t\t\"my_header\": \"my_value\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\"body\": JSON.stringify(data),\n\t\t\t\t\t\t\t\t\t\t\t\"isBase64Encoded\": false\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tcallback(null, response);\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t});\n\n}","resources":["ddbhsuser","ddbhsdevicetokens","apigusEast1HotSpacessendRequestToTpget","snsusEast1appGCMhotspaces","snsusEast1appGCMhotspaces","ddbhsuser","ddbhsdevicetokens","ddbhsuser","ddbhsdevicetokens"],"triggers":[{"resourceName":"apigusEast1HotSpacessendRequestToTpget","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/reveal-profile-request":"0wbc7f","/create-user":"0xh7vs","/upload-user-profile":"1invuu","/update-location":"5uy7ve","/sign-in":"fhrmi1","/get-locations":"kw28mf","/get-user-profile":"lj5j4j","/get-request-from":"oiod9n","/update-user":"ta23sf","/get-user-data":"uxat30","/":"vv5iju4dle","/update-token":"wpys0l"},"resourceMode":0,"resourceName":"send-request-to","resourcePath":"/send-request-to","restMethod":"GET","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"j888yl"}}],"version":8},"e7a375cc-9110-47c3-9920-037d9d9d00bf":{"id":"e7a375cc-9110-47c3-9920-037d9d9d00bf","parent":"fe15efdc-d6fc-4baf-b463-37e6a850ed9d","name":"update_user_lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"HotSpaces/update_user_lambda.js","code":"let AWS = require('aws-sdk');\nconst ddb = new AWS.DynamoDB.DocumentClient();\nexports.handler = function (event, context, callback) {\n    ddb.update({\n        TableName: 'hs_user',\n        ExpressionAttributeNames: { '#username': 'username' },\n        ExpressionAttributeValues: { \n        ':contact_number': JSON.parse(event.body).contact_number, \n        ':age': JSON.parse(event.body).age, \n        ':first_name': JSON.parse(event.body).first_name, \n        ':last_name': JSON.parse(event.body).last_name, \n        ':gender': JSON.parse(event.body).gender, \n        ':interested_in': JSON.parse(event.body).interested_in, \n        ':user_avatar': JSON.parse(event.body).user_avatar, \n        ':username':  event.queryStringParameters.username,\n        ':email': JSON.parse(event.body).email\n        },\n        UpdateExpression: 'set contact_number=:contact_number , age=:age ,  first_name=:first_name ,  last_name=:last_name ,  gender=:gender ,  interested_in=:interested_in ,  user_avatar=:user_avatar, email=:email',\n        ConditionExpression: '#username = :username',\n    }, function (err, data) {\n        if (err) {\n             callback(err, null);\n        } else {  \n            let response = {\n        \"statusCode\": 200,\n        \"headers\": {\n            \"my_header\": \"my_value\"\n        },\n        \"body\": JSON.stringify(data),\n        \"isBase64Encoded\": false\n    };\n           callback(null, response);\n       }  //your logic goes here\n        }\n    });\n\n\n}","resources":["apigusEast1HotSpacesupdateUserpost","ddbhsuser","ddbhsuser"],"triggers":[{"resourceName":"apigusEast1HotSpacesupdateUserpost","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/get-user-profile":"a3kcl7","/create-user":"eyycvt","/sign-in":"fhrmi1","/reveal-profile-request":"fk4owo","/update-token":"fs4lju","/":"vv5iju4dle","/upload-user-profile":"x5pz19","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"update-user","resourcePath":"/update-user","restMethod":"POST","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"qt1jz8"}}]},"a8d43eec-929d-401e-8f46-be7a1ddfbbdc":{"id":"a8d43eec-929d-401e-8f46-be7a1ddfbbdc","parent":"fe15efdc-d6fc-4baf-b463-37e6a850ed9d","name":"query_locations_lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"HotSpaces/query_locations_lambda.js","code":"let AWS = require('aws-sdk');\nconst ddb = new AWS.DynamoDB.DocumentClient();\nexports.handler = function (event, context, callback) {\n    var currentTimestamp = new Date();\n    var yesterdayTimestamp = new Date();\n    yesterdayTimestamp.setTime(currentTimestamp.getTime() - 86400000);\n    var gender = parseInt(event.queryStringParameters.gender);\n    var timestamp = yesterdayTimestamp.toLocaleString();\n    let dbParams = 1;\n\n    if (parseInt(event.queryStringParameters.gender) != 2) {\n        ddb.query({\n            TableName: 'hs_sort_table',\n            ExpressionAttributeValues: {\n                ':gender': gender,\n                ':yesterdayTimestamp': timestamp\n            },\n            KeyConditionExpression: 'gender = :gender',\n            FilterExpression: 'last_updated_timestamp > :yesterdayTimestamp'\n        }, function (err, data) {\n            if (err) {\n                callback(err, null);\n            } else {\n                let response = {\n                    \"statusCode\": 200,\n                    \"headers\": {\n                        \"my_header\": \"my_value\"\n                    },\n                    \"body\": JSON.stringify(data),\n                    \"isBase64Encoded\": false\n                };\n                callback(null, response);\n            }\n        });\n\n    } else {\n\n        dbParams = {\n            TableName: 'hs_sort_table',\n            ExpressionAttributeValues: {\n                ':yesterdayTimestamp': yesterdayTimestamp.toLocaleString()\n            },\n            FilterExpression: 'last_updated_timestamp > :yesterdayTimestamp'\n        };\n\n        docClient.scan(dbParams, function (err, data) {\n            console.log(\"err\", err);\n            console.log(\"data\", data);\n            if (err) {\n                callback(err, null);\n            } else {\n\n                let response = {\n                    \"statusCode\": 200,\n                    \"headers\": {\n                        \"my_header\": \"my_value\"\n                    },\n                    \"body\": JSON.stringify(data),\n                    \"isBase64Encoded\": false\n                };\n                callback(null, response);\n            }\n        });\n\n    }\n\n\n}","resources":["apigusEast1HotSpacesgetLocationsget","ddbhssorttable","ddbhssorttable","ddbhssorttable","ddbhssorttable"],"triggers":[{"resourceName":"apigusEast1HotSpacesgetLocationsget","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/get-user-profile":"a3kcl7","/create-user":"eyycvt","/sign-in":"fhrmi1","/reveal-profile-request":"fk4owo","/update-token":"fs4lju","/":"vv5iju4dle","/upload-user-profile":"x5pz19","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"get-locations","resourcePath":"/get-locations","restMethod":"GET","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"qt1jz8"}}],"version":1},"e4543662-f84c-4b36-b19b-4443639a3a54":{"id":"e4543662-f84c-4b36-b19b-4443639a3a54","parent":"fe15efdc-d6fc-4baf-b463-37e6a850ed9d","name":"update_location_lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"HotSpaces/update_location_lambda.js","code":"let AWS = require('aws-sdk');\nconst ddb = new AWS.DynamoDB.DocumentClient();\nexports.handler = function (event, context, callback) {\n\tvar timestamp = new Date();\n\n\tddb.update({\n\t\tTableName: 'hs_sort_table',\n\t\tExpressionAttributeNames: { '#gender': 'gender', '#username': 'username' },\n\t\tExpressionAttributeValues: { \n\t\t':timestamp': timestamp.toLocaleString(),\n\t\t ':latitude': JSON.parse(event.body).last_known_lat, \n\t\t ':longitude': JSON.parse(event.body).last_known_long, \n\t\t ':gender': JSON.parse(event.body).gender, \n\t\t ':username': JSON.parse(event.body).username\n\t\t  },\n\t\tUpdateExpression: 'set last_known_lat=:latitude, last_updated_timestamp=:timestamp, last_known_long=:longitude',\n\t\tConditionExpression: '#gender = :gender and #username = :username',\n\t}, function (err, data) {\n\t\tif (err) {\n\t\t\t callback(err, null);\n\t\t} else {\n\t\t\t\tlet response = {\n\t\t\t\t\t\t\"statusCode\": 200,\n\t\t\t\t\t\t\"headers\": {\n\t\t\t\t\t\t\t\"my_header\": \"my_value\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"body\": JSON.stringify(data),\n\t\t\t\t\t\t\"isBase64Encoded\": false\n\t\t\t\t\t};\n\t\t\t\t\tcallback(null, response);\n\t\t}\n\t});\n\n\n}","resources":["apigusEast1HotSpacesupdateLocationpost","ddbhssorttable"],"triggers":[{"resourceName":"apigusEast1HotSpacesupdateLocationpost","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/get-user-profile":"a3kcl7","/create-user":"eyycvt","/sign-in":"fhrmi1","/reveal-profile-request":"fk4owo","/update-token":"fs4lju","/":"vv5iju4dle","/upload-user-profile":"x5pz19","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"update-location","resourcePath":"/update-location","restMethod":"POST","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"qt1jz8"}}],"version":1},"b1e1c6a6-7872-4843-a5d5-214120c37972":{"id":"b1e1c6a6-7872-4843-a5d5-214120c37972","parent":"fe15efdc-d6fc-4baf-b463-37e6a850ed9d","name":"get_request_from_lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"HotSpaces/get_request_from_lambda.js","code":"let AWS = require('aws-sdk');\nconst sns = new AWS.SNS();\nconst ddb = new AWS.DynamoDB.DocumentClient();\nexports.handler = function (event, context, callback) {\n\n\tlet eventText = event.queryStringParameters.match_username;\n\tlet my_username = event.queryStringParameters.my_username;\n\tlet accepted = event.queryStringParameters.accepted;\n\tvar endPointData = null;\n\tvar token = null;\n\n\n\tlet jsonObj = {\n\t\t\"username\": my_username,\n\t\t\"accepted\": accepted,\n\t\t\"subject\": \"Accept Request\"\n\t}\n\tddb.query({\n\t\tTableName: 'hs_device_tokens',\n\t\tExpressionAttributeValues: {\n\t\t\t':username': event.queryStringParameters.match_username\n\t\t},\n\t\tKeyConditionExpression: 'username = :username',\n\t\tFilterExpression: 'undefined'\n\t}, function (err, data) {\n\t\tif (err) {\n\t\t\tcallback(err, null);\n\t\t} else {\n\n\t\t\tdata.Items.forEach(function (item) {\n\n\t\t\t\tconsole.log(item.device_token);\n\t\t\t\tsns.createPlatformEndpoint({\n\t\t\t\t\tPlatformApplicationArn: 'arn:aws:sns:us-east-1:480964559519:app/GCM/hotspaces',\n\t\t\t\t\tToken: item.device_token\n\t\t\t\t}).promise()\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tcallback(err, null);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.log(data.EndpointArn);\n\t\t\t\t\t\tendPointData = data.EndpointArn;\n\t\t\t\t\t\tsns.publish({\n\t\t\t\t\t\t\tMessage: JSON.stringify(jsonObj),\n\t\t\t\t\t\t\tSubject: 'Accept Request',\n\t\t\t\t\t\t\tTargetArn: endPointData\n\t\t\t\t\t\t}).promise()\n\t\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\t\tcallback(err, null);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\tlet response = {\n\t\t\t\t\t\t\t\t\t\"statusCode\": 200,\n\t\t\t\t\t\t\t\t\t\"headers\": {\n\t\t\t\t\t\t\t\t\t\t\"my_header\": \"my_value\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\"body\": JSON.stringify(data),\n\t\t\t\t\t\t\t\t\t\"isBase64Encoded\": false\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcallback(null, response);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t});\n\n\t\t}\n\t});\n\n}","resources":["apigusEast1HotSpacesgetRequestFromget","ddbhsdevicetokens","snsusEast1appGCMhotspaces","snsusEast1appGCMhotspaces","ddbhsdevicetokens","ddbhsdevicetokens"],"triggers":[{"resourceName":"apigusEast1HotSpacesgetRequestFromget","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/reveal-profile-request":"0wbc7f","/create-user":"0xh7vs","/upload-user-profile":"1invuu","/update-location":"5uy7ve","/sign-in":"fhrmi1","/get-locations":"kw28mf","/get-user-profile":"lj5j4j","/update-user":"ta23sf","/get-user-data":"uxat30","/":"vv5iju4dle","/update-token":"wpys0l"},"resourceMode":0,"resourceName":"get-request-from","resourcePath":"/get-request-from","restMethod":"GET","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"j888yl"}}],"version":8}},"rootNode":"fe15efdc-d6fc-4baf-b463-37e6a850ed9d","openFiles":["ddad056a-5aae-4460-b6cd-3bdb37bb1b2c","b1e1c6a6-7872-4843-a5d5-214120c37972","a8d43eec-929d-401e-8f46-be7a1ddfbbdc","e89da7b6-c7dc-44da-9d85-bbee7122e71f","188ef6fc-1c63-494e-a5cf-5205b96dd98b","7c42f003-78a4-40d9-b16c-a38a1eb9b4db","5206f6b4-695c-43fa-93db-503a51d0abdf","02edd4d6-9248-43ac-98ad-af187c729359","e4543662-f84c-4b36-b19b-4443639a3a54"],"currentFileId":"b1e1c6a6-7872-4843-a5d5-214120c37972","resources":{"apigusEast1HotSpacescreateUserpost":{"name":"apigusEast1HotSpacescreateUserpost","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/sign-in":"fhrmi1","/":"vv5iju4dle"},"resourceMode":0,"resourceName":"create-user","resourcePath":"/create-user","restMethod":"POST","proxyIntegration":true,"stageMode":0,"stageName":"prod"},"globallyEditable":true,"usage":{"7c42f003-78a4-40d9-b16c-a38a1eb9b4db":{"operations":{},"occurrence":1,"triggers":[{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/sign-in":"fhrmi1","/":"vv5iju4dle"},"resourceMode":0,"resourceName":"create-user","resourcePath":"/create-user","restMethod":"POST","proxyIntegration":true,"stageMode":0,"stageName":"prod"}]}}},"ddbhsuser":{"name":"ddbhsuser","type":"DynamoDB","config":{"mode":1,"operation":"get","table":{"arn":"arn:aws:dynamodb:us-east-1:480964559519:table/hs_user","name":"hs_user","partitionKey":"username","partitionKeyType":"S","hasSortKey":false,"sortKey":"","sortKeyType":"S","mode":0},"isGlobalEditMode":false,"parameters":{"TableName":"hs_user","Key":{"username":"@{eventText}"}},"validator":{"validatableFields":{},"validity":true},"valid":true},"globallyEditable":true,"usage":{"188ef6fc-1c63-494e-a5cf-5205b96dd98b":{"operations":{"get":[{"TableName":"hs_user","Key":{"username":"@{event.queryStringParameters.username}"}}]},"occurrence":1,"triggers":[]},"ddad056a-5aae-4460-b6cd-3bdb37bb1b2c":{"operations":{"get":[{"TableName":"hs_user","Key":{"username":"@{eventText}"}}]},"occurrence":1,"triggers":[]}}},"ddbhssorttable":{"name":"ddbhssorttable","type":"DynamoDB","config":{"mode":1,"operation":"query","table":{"arn":"arn:aws:dynamodb:us-east-1:480964559519:table/hs_sort_table","name":"hs_sort_table","partitionKey":"gender","partitionKeyType":"N","hasSortKey":true,"sortKey":"username","sortKeyType":"S","mode":0},"isGlobalEditMode":false,"parameters":{"TableName":"hs_sort_table","ExpressionAttributeValues":{":gender":"@{gender}",":yesterdayTimestamp":"@{timestamp}"},"KeyConditionExpression":"gender = :gender","FilterExpression":"last_updated_timestamp > :yesterdayTimestamp"},"validator":{"validatableFields":{},"validity":true},"valid":true},"globallyEditable":true,"usage":{"a8d43eec-929d-401e-8f46-be7a1ddfbbdc":{"operations":{"query":[{"TableName":"hs_sort_table","ExpressionAttributeValues":{":gender":"@{gender}",":yesterdayTimestamp":"@{timestamp}"},"KeyConditionExpression":"gender = :gender","FilterExpression":"last_updated_timestamp > :yesterdayTimestamp"}]},"occurrence":1,"triggers":[]}}},"apigusEast1HotSpacesgetUserDataget":{"name":"apigusEast1HotSpacesgetUserDataget","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/sign-in":"fhrmi1","/":"vv5iju4dle"},"resourceMode":0,"resourceName":"get-user-data","resourcePath":"/get-user-data","restMethod":"GET","proxyIntegration":true,"stageMode":0,"stageName":"prod"},"globallyEditable":true,"usage":{"188ef6fc-1c63-494e-a5cf-5205b96dd98b":{"operations":{},"occurrence":1,"triggers":[{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/sign-in":"fhrmi1","/":"vv5iju4dle"},"resourceMode":0,"resourceName":"get-user-data","resourcePath":"/get-user-data","restMethod":"GET","proxyIntegration":true,"stageMode":0,"stageName":"prod"}]}}},"apigusEast1HotSpacesgetUserProfileget":{"name":"apigusEast1HotSpacesgetUserProfileget","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/create-user":"eyycvt","/sign-in":"fhrmi1","/":"vv5iju4dle","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"get-user-profile","resourcePath":"/get-user-profile","restMethod":"GET","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"1vitxs"},"globallyEditable":true,"usage":{"5206f6b4-695c-43fa-93db-503a51d0abdf":{"operations":{},"occurrence":1,"triggers":[{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/create-user":"eyycvt","/sign-in":"fhrmi1","/":"vv5iju4dle","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"get-user-profile","resourcePath":"/get-user-profile","restMethod":"GET","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"1vitxs"}]}}},"s3findMyMateHasangi":{"name":"s3findMyMateHasangi","type":"S3","config":{"mode":1,"bucket":{"region":"us-east-1","name":"find-my-mate-hasangi"}},"globallyEditable":false,"usage":{"e89da7b6-c7dc-44da-9d85-bbee7122e71f":{"operations":{"putObject":[{"Body":"@{decodedImage}","Bucket":"find-my-mate-hasangi","Key":"@{filePath}"}]},"occurrence":1,"triggers":[]}}},"apigusEast1HotSpacesuploadUserProfilepost":{"name":"apigusEast1HotSpacesuploadUserProfilepost","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/create-user":"eyycvt","/sign-in":"fhrmi1","/":"vv5iju4dle","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"upload-user-profile","resourcePath":"/upload-user-profile","restMethod":"POST","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"1vitxs"},"globallyEditable":true,"usage":{"e89da7b6-c7dc-44da-9d85-bbee7122e71f":{"operations":{},"occurrence":1,"triggers":[{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/create-user":"eyycvt","/sign-in":"fhrmi1","/":"vv5iju4dle","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"upload-user-profile","resourcePath":"/upload-user-profile","restMethod":"POST","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"1vitxs"}]}}},"apigusEast1HotSpacesupdateTokenpost":{"name":"apigusEast1HotSpacesupdateTokenpost","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/get-user-profile":"a3kcl7","/create-user":"eyycvt","/sign-in":"fhrmi1","/":"vv5iju4dle","/upload-user-profile":"x5pz19","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"update-token","resourcePath":"/update-token","restMethod":"POST","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"jzhp8y"},"globallyEditable":true,"usage":{"02edd4d6-9248-43ac-98ad-af187c729359":{"operations":{},"occurrence":1,"triggers":[{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/get-user-profile":"a3kcl7","/create-user":"eyycvt","/sign-in":"fhrmi1","/":"vv5iju4dle","/upload-user-profile":"x5pz19","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"update-token","resourcePath":"/update-token","restMethod":"POST","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"jzhp8y"}]}}},"ddbhsdevicetokens":{"name":"ddbhsdevicetokens","type":"DynamoDB","config":{"mode":1,"operation":"query","table":{"arn":"arn:aws:dynamodb:us-east-1:480964559519:table/hs_device_tokens","name":"hs_device_tokens","partitionKey":"username","partitionKeyType":"S","hasSortKey":true,"sortKey":"device_token","sortKeyType":"S","mode":1},"isGlobalEditMode":false,"parameters":{"TableName":"hs_device_tokens","ExpressionAttributeValues":{":username":"@{event.queryStringParameters.match_username}"},"KeyConditionExpression":"username = :username"},"validator":{"validatableFields":{},"validity":true},"valid":true},"globallyEditable":true,"usage":{"02edd4d6-9248-43ac-98ad-af187c729359":{"operations":{"put":[{"TableName":"hs_device_tokens","Item":{"username":"@{username}","device_token":"@{token}"}}]},"occurrence":1,"triggers":[]},"ddad056a-5aae-4460-b6cd-3bdb37bb1b2c":{"operations":{"query":[{"TableName":"hs_device_tokens","ExpressionAttributeValues":{":username":"@{event.queryStringParameters.match_username}"},"KeyConditionExpression":"username = :username","FilterExpression":"undefined"}]},"occurrence":1,"triggers":[]},"b1e1c6a6-7872-4843-a5d5-214120c37972":{"operations":{"query":[{"TableName":"hs_device_tokens","ExpressionAttributeValues":{":username":"@{event.queryStringParameters.match_username}"},"KeyConditionExpression":"username = :username","FilterExpression":"undefined"}]},"occurrence":1,"triggers":[]}}},"ddbdevicetoken":{"name":"ddbdevicetoken","type":"DynamoDB","config":{"mode":1,"operation":"put","table":{"arn":"arn:aws:dynamodb:us-east-1:480964559519:table/device_token","name":"device_token","partitionKey":"username","partitionKeyType":"S","hasSortKey":true,"sortKey":"device_token","sortKeyType":"S","mode":0},"isGlobalEditMode":false,"parameters":{"TableName":"device_token","Item":{"username":"${JSON.parse(event.body).username}","token":"${JSON.parse(event.body).token}"}}},"globallyEditable":true,"usage":{}},"apigusEast1HotSpacesupdateUserpost":{"name":"apigusEast1HotSpacesupdateUserpost","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/get-user-profile":"a3kcl7","/create-user":"eyycvt","/sign-in":"fhrmi1","/reveal-profile-request":"fk4owo","/update-token":"fs4lju","/":"vv5iju4dle","/upload-user-profile":"x5pz19","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"update-user","resourcePath":"/update-user","restMethod":"POST","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"qt1jz8"},"globallyEditable":true,"usage":{"e7a375cc-9110-47c3-9920-037d9d9d00bf":{"operations":{},"occurrence":1,"triggers":[{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/get-user-profile":"a3kcl7","/create-user":"eyycvt","/sign-in":"fhrmi1","/reveal-profile-request":"fk4owo","/update-token":"fs4lju","/":"vv5iju4dle","/upload-user-profile":"x5pz19","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"update-user","resourcePath":"/update-user","restMethod":"POST","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"qt1jz8"}]}}},"apigusEast1HotSpacesgetLocationsget":{"name":"apigusEast1HotSpacesgetLocationsget","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/get-user-profile":"a3kcl7","/create-user":"eyycvt","/sign-in":"fhrmi1","/reveal-profile-request":"fk4owo","/update-token":"fs4lju","/":"vv5iju4dle","/upload-user-profile":"x5pz19","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"get-locations","resourcePath":"/get-locations","restMethod":"GET","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"qt1jz8"},"globallyEditable":true,"usage":{"a8d43eec-929d-401e-8f46-be7a1ddfbbdc":{"operations":{},"occurrence":1,"triggers":[{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/get-user-profile":"a3kcl7","/create-user":"eyycvt","/sign-in":"fhrmi1","/reveal-profile-request":"fk4owo","/update-token":"fs4lju","/":"vv5iju4dle","/upload-user-profile":"x5pz19","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"get-locations","resourcePath":"/get-locations","restMethod":"GET","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"qt1jz8"}]}}},"apigusEast1HotSpacesupdateLocationpost":{"name":"apigusEast1HotSpacesupdateLocationpost","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/get-user-profile":"a3kcl7","/create-user":"eyycvt","/sign-in":"fhrmi1","/reveal-profile-request":"fk4owo","/update-token":"fs4lju","/":"vv5iju4dle","/upload-user-profile":"x5pz19","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"update-location","resourcePath":"/update-location","restMethod":"POST","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"qt1jz8"},"globallyEditable":true,"usage":{"e4543662-f84c-4b36-b19b-4443639a3a54":{"operations":{},"occurrence":1,"triggers":[{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/get-user-profile":"a3kcl7","/create-user":"eyycvt","/sign-in":"fhrmi1","/reveal-profile-request":"fk4owo","/update-token":"fs4lju","/":"vv5iju4dle","/upload-user-profile":"x5pz19","/get-user-data":"xcwvkg"},"resourceMode":0,"resourceName":"update-location","resourcePath":"/update-location","restMethod":"POST","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"qt1jz8"}]}}},"apigusEast1HotSpacesgetRequestFromget":{"name":"apigusEast1HotSpacesgetRequestFromget","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/reveal-profile-request":"0wbc7f","/create-user":"0xh7vs","/upload-user-profile":"1invuu","/update-location":"5uy7ve","/sign-in":"fhrmi1","/get-locations":"kw28mf","/get-user-profile":"lj5j4j","/update-user":"ta23sf","/get-user-data":"uxat30","/":"vv5iju4dle","/update-token":"wpys0l"},"resourceMode":0,"resourceName":"get-request-from","resourcePath":"/get-request-from","restMethod":"GET","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"j888yl"},"globallyEditable":true,"usage":{"b1e1c6a6-7872-4843-a5d5-214120c37972":{"operations":{},"occurrence":1,"triggers":[{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/reveal-profile-request":"0wbc7f","/create-user":"0xh7vs","/upload-user-profile":"1invuu","/update-location":"5uy7ve","/sign-in":"fhrmi1","/get-locations":"kw28mf","/get-user-profile":"lj5j4j","/update-user":"ta23sf","/get-user-data":"uxat30","/":"vv5iju4dle","/update-token":"wpys0l"},"resourceMode":0,"resourceName":"get-request-from","resourcePath":"/get-request-from","restMethod":"GET","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"j888yl"}]}}},"snsusEast1appGCMhotspaces":{"name":"snsusEast1appGCMhotspaces","type":"SNS","config":{"appArn":"arn:aws:sns:us-east-1:480964559519:app/GCM/hotspaces","appName":"hotspaces","appType":"GCM","appRegion":"us-east-1","snsType":2},"globallyEditable":false,"usage":{"ddad056a-5aae-4460-b6cd-3bdb37bb1b2c":{"operations":{"createPlatformEndpoint":[{"PlatformApplicationArn":"arn:aws:sns:us-east-1:480964559519:app/GCM/hotspaces","Token":"@{item.device_token}"}]},"occurrence":1,"triggers":[]},"b1e1c6a6-7872-4843-a5d5-214120c37972":{"operations":{"createPlatformEndpoint":[{"PlatformApplicationArn":"arn:aws:sns:us-east-1:480964559519:app/GCM/hotspaces","Token":"@{item.device_token}"}]},"occurrence":1,"triggers":[]}}},"apigusEast1HotSpacessendRequestToTpget":{"name":"apigusEast1HotSpacessendRequestToTpget","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/reveal-profile-request":"0wbc7f","/create-user":"0xh7vs","/upload-user-profile":"1invuu","/update-location":"5uy7ve","/sign-in":"fhrmi1","/get-locations":"kw28mf","/get-user-profile":"lj5j4j","/get-request-from":"oiod9n","/update-user":"ta23sf","/get-user-data":"uxat30","/":"vv5iju4dle","/update-token":"wpys0l"},"resourceMode":0,"resourceName":"send-request-to-tp","resourcePath":"/send-request-to-tp","restMethod":"GET","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"j888yl"},"globallyEditable":true,"usage":{"ddad056a-5aae-4460-b6cd-3bdb37bb1b2c":{"operations":{},"occurrence":1,"triggers":[{"selectedRegion":"us-east-1","apiMode":1,"apiName":"HotSpaces","apiId":"c3pyt8pus4","endpointType":"EDGE","rootResourceId":"vv5iju4dle","existingResources":{"/reveal-profile-request":"0wbc7f","/create-user":"0xh7vs","/upload-user-profile":"1invuu","/update-location":"5uy7ve","/sign-in":"fhrmi1","/get-locations":"kw28mf","/get-user-profile":"lj5j4j","/get-request-from":"oiod9n","/update-user":"ta23sf","/get-user-data":"uxat30","/":"vv5iju4dle","/update-token":"wpys0l"},"resourceMode":0,"resourceName":"send-request-to","resourcePath":"/send-request-to","restMethod":"GET","proxyIntegration":true,"stageMode":1,"stageName":"prod","stageDeploymentId":"j888yl"}]}}}},"packageJSON":{"dependencies":{"aws-sdk":{"name":"aws-sdk","version":"2.176.0","notRemovable":true},"slappforge-sdk":{"name":"@slappforge/slappforge-sdk","version":"0.0.3","notRemovable":true}}},"changeExistingProject":false,"additionalFiles":[],"lambdaId":"7c42f003-78a4-40d9-b16c-a38a1eb9b4db"},"PROJECT_META":{"projectName":"HotSpaces","projectDescription":"","projectVersion":"1.0.0","repoName":"HotSpaces","repoUrl":"https://github.com/Cassendra4/HotSpaces","lastSave":1517305677507}}